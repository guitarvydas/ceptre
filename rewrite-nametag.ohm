NametagRewriter {

top = oneCharOrMacro+

oneCharOrMacro =
  | space -- space
  | applySyntactic<Nametag> -- nametag
  | any -- other

Nametag = name ":" ~(name* ".")

name = nameFirst nameRest*
nameFirst = letter
nameRest = alnum | "_" | "/" | "'" | "â€™"

}

